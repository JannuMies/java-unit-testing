<html>
<head>
  <title>KISS</title>
  <link rel="stylesheet" type="text/css" href="theme.css" />
</head>
<body>
<div>
 <a href ="01-why-tdd.html">Why TDD</a>
 <a href ="index.html">Start</a>
 <a href ="03-">??</a>
</div>

<h1>KISS</h1>
<p>
A couple of good programmers I know have desktop backgrounds that read
"Keep it simple, stupid". It's a very good mantra, when writing code.
My way of combining
<a href="http://phraseologyproject.com/phrase/keep-it-simple-stupid">KISS</a>
and
<a href="http://blog.8thlight.com/uncle-bob/2014/05/08/SingleReponsibilityPrinciple.html">SRP</a>
in writing unit tests has been to mock every dependancy, thereby cutting
down the cumulative multiplexity of different layers. Consider the
following simple block of code:
</p>
<code>
void updateTree(Tree treeToUpdate) {
  if(gardenValidator.isValid(treeToUpdate) {
    garden.update(treeToUpdate);
  } else {
    throw new InvalidTreeException(treeToUpdate);
  }
}
</code>

<p>
In this block, I am interested of only two things: A) If treeToUpdate is valid,
it is passed to garden.update. B) If the tree is invalid, an exception is
thrown. This means two tests. Everything that GardenValidator does
is left purposefully out, because it is irrelevant how many different ways
the validation can fail, when the possible outcome is a boolean.
</p>

<p>
By singleing out the responsibilities in the code to different, mockable
classes, it doesn't matter if the tree validation can fail in 17 different
ways. The updateTree-method still needs only two tests. And if 7 other
methods also use the same validation class, you don't have to write
7*17*X tests for every possible case the validation can fail in.
</p>

<p>
This does have the downside, that you need to make sure, that GardenValidator
is also tested. But the sweet thing about TDD is that when writing only
the code needed to make the test pass, it's pretty easy to keep things
simple. And simple stuff is also simple to test.
</p>

<div>
 <a href ="01-why-tdd.html">Why TDD</a>
 <a href ="index.html">Start</a>
 <a href ="03-">??</a>
</div>
</body>
</html>
